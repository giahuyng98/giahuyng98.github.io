{"componentChunkName":"component---src-templates-blog-post-js","path":"/week03/solid/","result":{"data":{"site":{"siteMetadata":{"title":"Blog"}},"markdownRemark":{"id":"c5ad48ec-ad28-5d02-a567-7592598be14b","excerpt":"Class design principles Alias Name Definition SRP Single Responsibility Principle A class should have one, and only one, reason to change. OCP The Open Closed…","html":"<h1>Class design principles</h1>\n<table>\n<thead>\n<tr>\n<th align=\"center\">Alias</th>\n<th>Name</th>\n<th>Definition</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">SRP</td>\n<td>Single Responsibility Principle</td>\n<td>A class should have one, and only one, reason to change.</td>\n</tr>\n<tr>\n<td align=\"center\">OCP</td>\n<td>The Open Closed Principle</td>\n<td>Able to extend a classes behavior, without modifying it.</td>\n</tr>\n<tr>\n<td align=\"center\">LSP</td>\n<td>The Liskov Substitution Principle</td>\n<td>Derived classes must be substituable for their base classes.</td>\n</tr>\n<tr>\n<td align=\"center\">ISP</td>\n<td>The Interface Segregation Principle</td>\n<td>Make fine grained interfaces that are client specific.</td>\n</tr>\n<tr>\n<td align=\"center\">DIP</td>\n<td>The Dependency Inversion Principle</td>\n<td>Depend on abstractions, not on conretions.</td>\n</tr>\n</tbody>\n</table>\n<h2>Single Responsibility Principle</h2>\n<ul>\n<li><strong>A class should have only one reason to change</strong></li>\n<li>Why: If a class has more than one responsibility, then there will be more than one reason for it to change. the responsibilities become coupled, changes to one responsibility may <em>impair</em> or <em>inhibit</em> the class’ability to meet the others. Leads to fragile designs that break in unexpected ways when changed.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// Violate SRP</span>\n<span class=\"token comment\">// Print format may be change</span>\n<span class=\"token comment\">// Average score may change</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Student</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">float</span> mathScore<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">float</span> physicScore<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">float</span> chemistryScore<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">float</span> <span class=\"token function\">calculateAvgScore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>mathScore <span class=\"token operator\">+</span> physicScore <span class=\"token operator\">+</span> chemistryScore<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">3.0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Student: \"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\", \"</span>\n                         <span class=\"token operator\">+</span> <span class=\"token string\">\"Average score: \"</span> <span class=\"token operator\">+</span> <span class=\"token function\">calculateAvgScore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>SRP is one of the simplest of the principles, and one of the hardest to get right.</li>\n</ul>\n<h2>The Open Closed Principle</h2>\n<ul>\n<li><strong>Software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification.</strong></li>\n<li>\n<p>It says that you should design modules that <em>never change</em>. When requirements change, you extend the bahavior of such modules by add new code, not by changing old code that already works.</p>\n<ol>\n<li><code class=\"language-text\">Open for extension</code>: Behavior of the module can be extended. We can make module behave in new different ways as the requirements change, or to meet the needs of new applications.</li>\n<li><code class=\"language-text\">Closed for modification</code>: Source code of such a module is inviolate. No one is allowed to make source code changes to it</li>\n</ol>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// some attributes</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Rectangle</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// location</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">float</span> width<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">float</span> height<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Circle</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// location</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">float</span> radius<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Drawer</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Shape</span><span class=\"token punctuation\">></span></span> shapes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Shape</span> shape <span class=\"token operator\">:</span> shapes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shape <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Rectangle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// draw rectangle</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>shape <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">Circle</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// draw circle</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>The code above does not conform to the OCP principle, has to modify <code class=\"language-text\">draw()</code> function if new kinds of shapes added, switch may repeated over and over again in various funcions… Adding a new shape means hunting for every place that such switch statements exist, and adding the new shape to each.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">void</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Rectangle</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//implement</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Circle</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Shape</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//implement</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Drawer</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Shape</span><span class=\"token punctuation\">></span></span> shapes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Shape</span> shape <span class=\"token operator\">:</span> shapes<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n           shape<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>If we want to add new kind of shape, all we need to do is add a new dirvative of the Shape class and implement all its functions, e.g <code class=\"language-text\">draw()</code></li>\n<li></li>\n</ul>\n<h1>Packages design principles</h1>\n<h1>References</h1>\n<ul>\n<li><a href=\"http://www.butunclebob.com/ArticleS.UncleBob.PrinciplesOfOod\">ArticleS.UncleBob.PrinciplesOfOod</a></li>\n</ul>","frontmatter":{"title":"SOLID","date":"July 27, 2020","description":"SOLID"}}},"pageContext":{"slug":"/week03/solid/","previous":{"fields":{"slug":"/week02/system-design/"},"frontmatter":{"title":"System design"}},"next":{"fields":{"slug":"/week03/btree/"},"frontmatter":{"title":"Btree"}}}}}